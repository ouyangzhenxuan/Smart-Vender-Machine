(this["webpackJsonpsmart-vending-machine"]=this["webpackJsonpsmart-vending-machine"]||[]).push([[15],{1042:function(e,t,a){"use strict";a.r(t);var n=a(9),r=a(10),o=a(12),i=a(11),c=a(0),l=a.n(c),s=a(184),u=a(770),d=a(840),m=a(841),p=a(168),f=a(113),g=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"componentWillMount",value:function(){if(localStorage.jtwToken){var e=Object(f.b)();Object(f.a)(e.exp)||(window.location.href="/?session=false")}else window.location.href="/"}},{key:"render",value:function(){return l.a.createElement(s.a,{breakpoint:this.props.breakpoint},l.a.createElement(p.a,null,l.a.createElement(d.a,null,l.a.createElement(m.a,{style:{height:"50rem"}},l.a.createElement(u.a,null)))))}}]),a}(l.a.Component);t.default=g},113:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return i}));var n=a(266),r=a.n(n);function o(){return r.a.decode(localStorage.jtwToken)}function i(e){return!(e<(new Date).getTime()/1e3)||(delete localStorage.jtwToken,delete localStorage.auth,!1)}},125:function(e,t,a){e.exports=a.p+"static/media/default_user.a2a54eb3.png"},154:function(e,t,a){"use strict";var n=a(117),r=a(84),o=a(16),i=a.n(o),c=a(0),l=a.n(c),s=(a(85),{h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6","display-1":"h1","display-2":"h1","display-3":"h1","display-4":"h1",p:"p",lead:"p",blockquote:"blockquote"}),u=function(e){var t,a=e.tag,o=e.className,c=e.type,u=Object(r.a)(e,["tag","className","type"]),d=i()(Object(n.a)({},c,!!c),o);return t=a||(!a&&s[c]?s[c]:"p"),l.a.createElement(t,Object.assign({},u,{className:d}))};u.defaultProps={type:"p"},t.a=u},168:function(e,t,a){"use strict";var n=a(84),r=a(0),o=a.n(r),i=(a(85),a(96)),c=a(477),l=a(478),s=a(154),u=i.a.create("page"),d=function(e){var t=e.title,a=e.breadcrumbs,r=e.tag,i=e.className,d=e.children,m=Object(n.a)(e,["title","breadcrumbs","tag","className","children"]),p=u.b("px-3",i);return o.a.createElement(r,Object.assign({className:p},m),o.a.createElement("div",{className:u.e("header")},t&&"string"===typeof t?o.a.createElement(s.a,{type:"h1",className:u.e("title")},t):t,a&&o.a.createElement(c.a,{className:u.e("breadcrumb")},o.a.createElement(l.a,null,"Home"),a.length&&a.map((function(e,t){var a=e.name,n=e.active;return o.a.createElement(l.a,{key:t,active:n},a)})))),d)};d.defaultProps={tag:"div",title:""},t.a=d},169:function(e,t,a){e.exports=a.p+"static/media/logosvm.1ada1d36.png"},170:function(e,t,a){e.exports=a.p+"static/media/sidebar-14.825f8a86.png"},171:function(e,t,a){e.exports=a.p+"static/media/sidebar-4.80d4a4e5.jpg"},184:function(e,t,a){"use strict";var n=a(9),r=a(10),o=a(12),i=a(11),c=a(84),l=a(0),s=a.n(l),u=a(96),d=a(1031),m=u.a.create("content"),p=function(e){var t=e.tag,a=e.className,n=Object(c.a)(e,["tag","className"]),r=m.b(a);return s.a.createElement(t,Object.assign({className:r},n))};p.defaultProps={tag:d.a};var f=p,g=a(1032),h=a(1033),b=a(1034),v=function(){return s.a.createElement(g.a,null,s.a.createElement(h.a,{navbar:!0},s.a.createElement(b.a,null,"2020 SW Vault")))},k=a(112),y=(a(85),a(16)),E=a.n(y),S=a(125),w=a.n(S),O=function(e){var t=e.rounded,a=e.circle,n=e.src,r=e.size,o=e.tag,i=e.className,l=e.style,u=Object(c.a)(e,["rounded","circle","src","size","tag","className","style"]),d=E()({"rounded-circle":a,rounded:t},i);return s.a.createElement(o,Object.assign({src:n,style:Object(k.a)({width:r,height:r},l),className:d},u))};O.defaultProps={tag:"img",rounded:!1,circle:!0,size:40,src:w.a,style:{}};var j=O,M=a(962),N=a(963),C=a(1035),x=a(1036),W=a(1037),P=function(e){var t=e.avatar,a=e.avatarSize,n=e.title,r=e.subtitle,o=e.text,i=e.children,l=e.className,u=Object(c.a)(e,["avatar","avatarSize","title","subtitle","text","children","className"]),d=E()("bg-gradient-theme",l);return s.a.createElement(M.a,Object.assign({inverse:!0,className:d},u),s.a.createElement(N.a,{className:"d-flex justify-content-center align-items-center flex-column"},s.a.createElement(j,{src:t,size:a,className:"mb-2"}),s.a.createElement(C.a,null,n),s.a.createElement(x.a,null,r),s.a.createElement(W.a,null,s.a.createElement("small",null,o))),i)};P.defaultProps={avatarSize:80};var I=P,T=a(135),z=a.n(T),_=a(127),D=a(964),B=a(1038),A=a(1048),U=a(1039),H=a(1040),R=a(1041),q=a(113),V=u.a.create("header"),L=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o)))._isMounted=!1,e.state={isOpenUserCardPopover:!1,email:void 0,token:localStorage.jtwToken,image:w.a},e.toggleUserCardPopover=function(){e._isMounted&&e.setState({isOpenUserCardPopover:!e.state.isOpenUserCardPopover})},e.handleSidebarControlButton=function(e){e.preventDefault(),e.stopPropagation(),document.querySelector(".cr-sidebar").classList.toggle("cr-sidebar--open")},e.getHandler=function(t){var a={email:e.state.email,token:e.state.token};z.a.post("https://vending-insights-smu.firebaseapp.com/getimage",a).then((function(t){e._isMounted&&void 0!==t.data.image&&0!==t.data.image&&"default image"!==t.data.image&&e.setState({image:t.data.image},(function(){document.getElementById("avatar").src=e.state.image}))})).catch((function(e){console.log(e)}))},e}return Object(r.a)(a,[{key:"componentWillMount",value:function(){var e=this;if(void 0===this.state.email){var t=Object(q.b)();this.setState({email:t.email},(function(){e.getHandler()}))}}},{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"signOut",value:function(){delete localStorage.jtwToken,delete localStorage.auth,window.location.href="/"}},{key:"render",value:function(){var e=this;return s.a.createElement(g.a,{light:!0,expand:!0,className:V.b("bg-white")},s.a.createElement(h.a,{navbar:!0,className:"mr-2"},s.a.createElement(D.a,{outline:!0,onClick:this.handleSidebarControlButton},s.a.createElement(_.a,{size:25}))),s.a.createElement(h.a,{navbar:!0}),s.a.createElement(h.a,{navbar:!0,className:V.e("nav-right")},s.a.createElement(b.a,{className:"d-inline-flex"},s.a.createElement(B.a,{id:"Popover1",className:"position-relative"})),s.a.createElement(b.a,{tag:"button",className:"border-light mr-2",onClick:function(){return window.location.href="/profile"}},s.a.createElement(_.h,null)," Profile"),s.a.createElement(b.a,{tag:"button",className:"border-light mr-2",onClick:function(){return window.location.href="/help"}},s.a.createElement(_.d,null)," Help"),s.a.createElement(b.a,null,s.a.createElement(B.a,{id:"Popover2"},s.a.createElement(j,{id:"avatar",onClick:this.toggleUserCardPopover,className:"can-click"})),s.a.createElement(A.a,{placement:"bottom-end",isOpen:this.state.isOpenUserCardPopover,toggle:this.toggleUserCardPopover,target:"Popover2",className:"p-0 border-0",style:{minWidth:250}},s.a.createElement(U.a,{className:"p-0 border-light"},s.a.createElement(I,{title:this.state.email,avatar:this.state.image,className:"border-light"},s.a.createElement(H.a,{flush:!0},s.a.createElement(R.a,{tag:"button",action:!0,className:"border-light",onClick:function(){return e.signOut()}},s.a.createElement(_.c,null)," Signout"))))))))}}]),a}(s.a.Component),G=a(117),K=a(169),J=a.n(K),Z=a(170),F=a.n(Z),Y=a(171),Q=a.n(Y),X=function(e){return s.a.createElement("a",Object.assign({href:"https://github.com/Rrrrrrrrrainus/Smart-Vending-Machine",target:"_blank",rel:"noopener noreferrer"},e))},$=a(20),ee={backgroundImage:'url("'.concat(F.a,'")'),backgroundSize:"cover",backgroundRepeat:"no-repeat"},te=[{to:"/dashboard",name:"dashboard",exact:!0,Icon:_.b},{to:"/map",name:"map",exact:!1,Icon:_.g},{to:"/addvm",name:"Add VM",exact:!1,Icon:_.f}],ae=u.a.create("sidebar"),ne=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={isOpenComponents:!0,isOpenContents:!0,isOpenPages:!0},e.handleClick=function(t){return function(){e.setState((function(e){var a=e["isOpen".concat(t)];return Object(G.a)({},"isOpen".concat(t),!a)}))}},e}return Object(r.a)(a,[{key:"render",value:function(){return s.a.createElement("aside",{className:ae.b(),"data-image":Q.a},s.a.createElement("div",{className:ae.e("background"),style:ee}),s.a.createElement("div",{className:ae.e("content")},s.a.createElement(g.a,null,s.a.createElement(X,{className:"navbar-brand d-flex"},s.a.createElement("img",{src:J.a,width:"40",height:"30",className:"pr-2",alt:""}),s.a.createElement("span",{className:"text-white display-6"},"Smart VM"))),s.a.createElement(h.a,{vertical:!0},te.map((function(e,t){var a=e.to,n=e.name,r=e.exact,o=e.Icon;return s.a.createElement(b.a,{key:t,className:ae.e("nav-item")},s.a.createElement(B.a,{id:"navItem-".concat(n,"-").concat(t),className:"text-uppercase",tag:$.b,to:a,activeClassName:"active",exact:r},s.a.createElement(o,{className:ae.e("nav-item-icon")}),s.a.createElement("span",{className:""},n)))})))))}}]),a}(s.a.Component),re=a(315),oe=a.n(re),ie={NotificationItem:{DefaultStyle:{display:"flex",justifyContent:"space-between",alignItems:"center",borderRadius:"4px",fontSize:"14px"},success:{borderTop:0,backgroundColor:"#45b649",WebkitBoxShadow:0,MozBoxShadow:0,boxShadow:0},error:{borderTop:0,backgroundColor:"#f85032",WebkitBoxShadow:0,MozBoxShadow:0,boxShadow:0},warning:{borderTop:0,backgroundColor:"#ffd700",WebkitBoxShadow:0,MozBoxShadow:0,boxShadow:0},info:{borderTop:0,background:"linear-gradient(to right, #082475, #9ba9d4)",WebkitBoxShadow:0,MozBoxShadow:0,boxShadow:0}},Title:{DefaultStyle:{margin:0,padding:0,paddingRight:5,color:"#fff",display:"inline-flex",fontSize:20,fontWeight:"bold"}},MessageWrapper:{DefaultStyle:{display:"block",color:"#fff",width:"100%"}},Dismiss:{DefaultStyle:{display:"inline-flex",justifyContent:"center",alignItems:"center",fontFamily:"inherit",fontSize:20,color:"#f2f2f2",position:"relative",margin:0,padding:0,background:"none",borderRadius:0,opacity:1,width:20,height:20,textAlign:"initial",float:"none",top:"unset",right:"unset",lineHeight:"inherit"}},Action:{DefaultStyle:{background:"#fff",borderRadius:"2px",padding:"6px 20px",fontWeight:"bold",margin:"10px 0 0 0",border:0},success:{backgroundColor:"#45b649",color:"#fff"},error:{backgroundColor:"#f85032",color:"#fff"},warning:{backgroundColor:"#ffd700",color:"#fff"},info:{backgroundColor:"#00c9ff",color:"#fff"}},ActionWrapper:{DefaultStyle:{margin:0,padding:0}}},ce=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).handleContentClick=function(t){!a.isSidebarOpen()||"xs"!==e.props.breakpoint&&"sm"!==e.props.breakpoint&&"md"!==e.props.breakpoint||e.openSidebar("close")},e}return Object(r.a)(a,[{key:"componentWillReceiveProps",value:function(e){var t=e.breakpoint;t!==this.props.breakpoint&&this.checkBreakpoint(t)}},{key:"componentDidMount",value:function(){var e=this;this.checkBreakpoint(this.props.breakpoint),setTimeout((function(){e.notificationSystem&&e.notificationSystem.addNotification({title:s.a.createElement(_.e,null),message:"Welome to Smart Vending Machine",level:"info"})}),1500)}},{key:"checkBreakpoint",value:function(e){switch(e){case"xs":case"sm":case"md":return this.openSidebar("close");case"lg":case"xl":default:return this.openSidebar("open")}}},{key:"openSidebar",value:function(e){if("open"===e)return document.querySelector(".cr-sidebar").classList.add("cr-sidebar--open");document.querySelector(".cr-sidebar").classList.remove("cr-sidebar--open")}},{key:"render",value:function(){var e=this,t=this.props.children;return s.a.createElement("main",{className:"cr-app bg-light"},s.a.createElement(ne,null),s.a.createElement(f,{fluid:!0,onClick:this.handleContentClick},s.a.createElement(L,null),t,s.a.createElement(v,null)),s.a.createElement(oe.a,{dismissible:!1,ref:function(t){return e.notificationSystem=t},style:ie}))}}],[{key:"isSidebarOpen",value:function(){return document.querySelector(".cr-sidebar").classList.contains("cr-sidebar--open")}}]),a}(s.a.Component);t.a=ce},267:function(e,t){},268:function(e,t){},271:function(e,t){},272:function(e,t){},770:function(e,t,a){"use strict";var n=a(9),r=a(10),o=a(23),i=a(12),c=a(11),l=a(0),s=a.n(l),u=a(135),d=a.n(u),m=a(843),p=a(113),f={width:"94%",height:"100%"},g=function(e){Object(i.a)(a,e);var t=Object(c.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e))._isMounted=!1,r.loginHandler=function(e){var t={id:localStorage.id,email:localStorage.email};d.a.post("https://vending-insights-smu.firebaseapp.com/checktoken",t).then((function(e){"NO"===e.data&&(delete localStorage.id,delete localStorage.jtwToken,window.location.href="/?login=false")})).catch((function(e){console.log(e)}))},r.onMarkerClick=function(e,t,a){r._isMounted&&r.setState({selectedPlace:e,activeMarker:t,showingInfoWindow:!0,selectMarker:r.vm[t.id]})},r.onMapClick=function(e){r._isMounted&&r.state.showingInfoWindow&&r.setState({showingInfoWindow:!1,activeMarker:null})},r.state={showingInfoWindow:!1,activeMarker:{},selectedPlace:{},markers:[],selectMarker:{},vm:{}},r.getvm={token:localStorage.jtwToken,email:void 0},r.vm=[],r.onMarkerClick=r.onMarkerClick.bind(Object(o.a)(r)),r.onMapClick=r.onMapClick.bind(Object(o.a)(r)),r}return Object(r.a)(a,[{key:"getHandler",value:function(){var e=this;d.a.post("https://vending-insights-smu.firebaseapp.com/vm/getallvm",this.getvm).then((function(t){if(null!==t.data){var a=t.data;e.vm=a;for(var n=Object.keys(a),r=0;r<n.length;r++){var o=n[r],i=a[o],c=e.state.markers;c.push(s.a.createElement(m.Marker,{onClick:e.onMarkerClick,title:"Changing Colors Garage",position:{lat:Number(i.latitude),lng:Number(i.longitude)},name:"Changing Colors Garage",id:o,key:r})),e._isMounted&&e.setState(c)}}})).catch((function(e){console.log(e)}))}},{key:"componentWillMount",value:function(){if(localStorage.jtwToken){var e=Object(p.b)();this.getvm.email=e.email,this.loginHandler(),this.getHandler()}}},{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){return s.a.createElement(m.Map,{google:this.props.google,zoom:14,style:f,onClick:this.onMapClick,options:{streetViewControl:!0},initialCenter:{lat:32.845158,lng:-96.768737}},this.state.markers,s.a.createElement(m.InfoWindow,{marker:this.state.activeMarker,visible:this.state.showingInfoWindow},s.a.createElement("div",null,"ID: ",this.state.selectMarker.vm_id," ",s.a.createElement("br",null),"Name: ",this.state.selectMarker.name," ",s.a.createElement("br",null),"Latitude: ",this.state.selectMarker.latitude," longitude: ",this.state.selectMarker.longitude," ",s.a.createElement("br",null),"Net Sales: ",this.state.selectMarker.sales," Status: Online ",s.a.createElement("br",null),s.a.createElement("a",{href:"/vendingmachine/?vm_id="+this.state.selectMarker.vm_id+"?name="+this.state.selectMarker.name+"?longitude="+this.state.selectMarker.longitude+"?latitude="+this.state.selectMarker.latitude+"?sales="+this.state.selectMarker.sales+"?status="+this.state.selectMarker.status},s.a.createElement("button",null,"More Information")))))}}]),a}(l.Component);t.a=Object(m.GoogleApiWrapper)({apiKey:"AIzaSyDxNRHpwkUKhYVH3lc4UGN-Zu2OTKZNKqU"})(g)},85:function(e,t,a){"use strict";var n=a(112),r=a(1),o=a.n(r);Object(n.a)({},o.a,{ID:o.a.oneOfType([o.a.string,o.a.number]).isRequired,component:o.a.oneOfType([o.a.string,o.a.func]),date:o.a.oneOfType([o.a.instanceOf(Date),o.a.string])})},96:function(e,t,a){"use strict";var n,r=a(16),o=a.n(r),i=(n="cr",{create:function(e){var t=e;return"string"===typeof n&&(t="".concat(n,"-").concat(e)),{b:function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return o()(t,a)},e:function(e){for(var a=arguments.length,n=new Array(a>1?a-1:0),r=1;r<a;r++)n[r-1]=arguments[r];return o()("".concat(t,"__").concat(e),n)},m:function(e){for(var a=arguments.length,n=new Array(a>1?a-1:0),r=1;r<a;r++)n[r-1]=arguments[r];return o()("".concat(t,"--").concat(e),n)}}}});t.a=i}}]);
//# sourceMappingURL=15.5180b7cb.chunk.js.map