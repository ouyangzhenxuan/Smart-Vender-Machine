(this["webpackJsonpsmart-vending-machine"]=this["webpackJsonpsmart-vending-machine"]||[]).push([[19],{1029:function(e,r,a){"use strict";a.r(r),a.d(r,"default",(function(){return O}));var s=a(117),t=a(112),o=a(772),n=a(0),i=a.n(n),c=a(273),d=a(832),p=a(473),l=a(837),u=a(505),m=a(248),h=a(306),b=a(307),g=a(508),f=a(135),w=a.n(f);function v(){return i.a.createElement(h.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ","SW Vault"," ",(new Date).getFullYear(),".")}var x=Object(b.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function O(){var e=i.a.useState({email:""}),r=Object(o.a)(e,2),a=r[0],n=r[1],b=i.a.useState({email:"",pin:"",password:"",cpassword:""}),f=Object(o.a)(b,2),O=f[0],j=f[1],E=i.a.useState({email_error:"",password_error:"",cpassword_error:"",pin_error:"",piniserror:!1,emailiserror:!1,cpassiserror:!1,passiserror:!1}),_=Object(o.a)(E,2),y=_[0],k=_[1],W=function(e){j(Object(t.a)({},O,Object(s.a)({},e.target.name,e.target.value)));var r=e.target.name,a=e.target.value;N(r,a)},N=function(e,r){"password"===e&&(0===r.length?(k((function(e){e.password_error,e.passiserror;return"",!1,Object(t.a)({},e,{password_error:"",passiserror:!1})})),y.cpassiserror&&k((function(e){e.cpassword_error,e.cpassiserror;return"",!1,Object(t.a)({},e,{cpassword_error:"",cpassiserror:!1})}))):r.length>15||r.length<8?(k((function(e){e.password_error,e.passiserror;return"Your password length should between 8 and 15",!0,Object(t.a)({},e,{password_error:"Your password length should between 8 and 15",passiserror:!0})})),r!==O.cpassword&&""!==O.cpassword?k((function(e){e.cpassword_error,e.cpassiserror;return"Your input doesn't match your previous password",!0,Object(t.a)({},e,{cpassword_error:"Your input doesn't match your previous password",cpassiserror:!0})})):k((function(e){e.cpassword_error,e.cpassiserror;return"",!1,Object(t.a)({},e,{cpassword_error:"",cpassiserror:!1})}))):(k((function(e){e.password_error,e.passiserror;return"",!1,Object(t.a)({},e,{password_error:"",passiserror:!1})})),r!==O.cpassword&&""!==O.cpassword?k((function(e){e.cpassword_error,e.cpassiserror;return"Your input doesn't match your previous password",!0,Object(t.a)({},e,{cpassword_error:"Your input doesn't match your previous password",cpassiserror:!0})})):k((function(e){e.cpassword_error,e.cpassiserror;return"",!1,Object(t.a)({},e,{cpassword_error:"",cpassiserror:!1})})))),"cpassword"===e&&(0===r.length?k((function(e){e.cpassword_error,e.cpassiserror;return"",!1,Object(t.a)({},e,{cpassword_error:"",cpassiserror:!1})})):r!==O.password&&""!==O.password?k((function(e){e.cpassword_error,e.cpassiserror;return"Your input doesn't match your previous password",!0,Object(t.a)({},e,{cpassword_error:"Your input doesn't match your previous password",cpassiserror:!0})})):k((function(e){e.cpassword_error,e.cpassiserror;return"",!1,Object(t.a)({},e,{cpassword_error:"",cpassiserror:!1})})))},C=function(e){console.log(a),document.getElementsByClassName("pinfield")[0].hidden=!1,document.getElementsByClassName("pinfield")[1].hidden=!1,document.getElementsByClassName("pinfield")[2].hidden=!1,document.getElementById("emailb").hidden=!0,document.getElementById("email").disabled=!0,document.getElementById("submitb").hidden=!1,w.a.post("https://vending-insights-smu.firebaseapp.com/sendEmail",a).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},Y=x();return i.a.createElement(g.a,{component:"main",maxWidth:"xs"},i.a.createElement(d.a,null),i.a.createElement("div",{className:Y.paper},i.a.createElement(h.a,{component:"h1",variant:"h5"},"Enter Your Email Address"),i.a.createElement("form",{className:Y.form,noValidate:!0},i.a.createElement(u.a,{container:!0,spacing:2},i.a.createElement(u.a,{item:!0,xs:12},i.a.createElement(p.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Please Enter Your Email Address",name:"email",autoComplete:"email",error:y.emailiserror,helperText:y.email_error,onChange:function(e){n(Object(t.a)({},a,Object(s.a)({},e.target.name,e.target.value))),j(Object(t.a)({},O,Object(s.a)({},e.target.name,e.target.value)))}})),i.a.createElement(u.a,{item:!0,xs:12,className:"pinfield",hidden:!0},i.a.createElement(p.a,{autoComplete:"cname",name:"pin",variant:"outlined",required:!0,fullWidth:!0,id:"pin",label:"Enter Your PIN",autoFocus:!0,error:y.piniserror,helperText:y.pin_error,onChange:W})),i.a.createElement(u.a,{item:!0,xs:12,className:"pinfield",hidden:!0},i.a.createElement(p.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"New Password",type:"password",id:"password",autoComplete:"password",error:y.passiserror,helperText:y.password_error,onChange:W})),i.a.createElement(u.a,{item:!0,xs:12,className:"pinfield",hidden:!0},i.a.createElement(p.a,{variant:"outlined",required:!0,fullWidth:!0,name:"cpassword",label:"Comfirm New Password",type:"password",id:"changePassword",error:y.cpassiserror,helperText:y.cpassword_error,onChange:W}))),i.a.createElement(c.a,{onClick:function(e){console.log(a),w.a.post("https://vending-insights-smu.firebaseapp.com/check",a).then((function(e){"NO"===e.data.status?k((function(e){e.email_error,e.emailiserror;return"The email you input doesn't exist.",!0,Object(t.a)({},e,{email_error:"The email you input doesn't exist.",emailiserror:!0})})):y.emailiserror?(k((function(e){e.email_error,e.emailiserror;return"",!1,Object(t.a)({},e,{email_error:"",emailiserror:!1})})),C()):C()})).catch((function(e){console.log(e)}))},fullWidth:!0,color:"secondary",variant:"contained",id:"emailb",className:Y.submit,hidden:!1},"Send to Email"),i.a.createElement(c.a,{onClick:function(e){var r={email:O.email,pin:O.pin,password:O.password};w.a.post("https://vending-insights-smu.firebaseapp.com/changePassword",r).then((function(e){console.log(e),"NO"===e.data.status?k((function(e){e.pin_error,e.piniserror;return"Your pin is incorrect.",!0,Object(t.a)({},e,{pin_error:"Your pin is incorrect.",piniserror:!0})})):window.location.href="/"})).catch((function(e){console.log(e)}))},fullWidth:!0,color:"secondary",variant:"contained",id:"submitb",className:Y.submit,disabled:""===O.pin||""===O.password||""===O.cpassword||y.passiserror||y.cpassiserror,hidden:!0},"Submit"),i.a.createElement(u.a,{container:!0,justify:"flex-end"},i.a.createElement(u.a,{item:!0},i.a.createElement(l.a,{href:"\\",variant:"body2"},"Back to Login Page"))))),i.a.createElement(m.a,{mt:5},i.a.createElement(v,null)))}},508:function(e,r,a){"use strict";var s=a(2),t=a(61),o=a(72),n=a(0),i=(a(1),a(62)),c=a(63),d=a(68),p=n.forwardRef((function(e,r){var a=e.classes,o=e.className,c=e.component,p=void 0===c?"div":c,l=e.disableGutters,u=void 0!==l&&l,m=e.fixed,h=void 0!==m&&m,b=e.maxWidth,g=void 0===b?"lg":b,f=Object(t.a)(e,["classes","className","component","disableGutters","fixed","maxWidth"]);return n.createElement(p,Object(s.a)({className:Object(i.a)(a.root,o,h&&a.fixed,u&&a.disableGutters,!1!==g&&a["maxWidth".concat(Object(d.a)(String(g)))]),ref:r},f))}));r.a=Object(c.a)((function(e){return{root:Object(o.a)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",paddingLeft:e.spacing(2),paddingRight:e.spacing(2),display:"block"},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),disableGutters:{paddingLeft:0,paddingRight:0},fixed:Object.keys(e.breakpoints.values).reduce((function(r,a){var s=e.breakpoints.values[a];return 0!==s&&(r[e.breakpoints.up(a)]={maxWidth:s}),r}),{}),maxWidthXs:Object(o.a)({},e.breakpoints.up("xs"),{maxWidth:Math.max(e.breakpoints.values.xs,444)}),maxWidthSm:Object(o.a)({},e.breakpoints.up("sm"),{maxWidth:e.breakpoints.values.sm}),maxWidthMd:Object(o.a)({},e.breakpoints.up("md"),{maxWidth:e.breakpoints.values.md}),maxWidthLg:Object(o.a)({},e.breakpoints.up("lg"),{maxWidth:e.breakpoints.values.lg}),maxWidthXl:Object(o.a)({},e.breakpoints.up("xl"),{maxWidth:e.breakpoints.values.xl})}}),{name:"MuiContainer"})(p)}}]);
//# sourceMappingURL=19.876a0b63.chunk.js.map