(this["webpackJsonpsmart-vending-machine"]=this["webpackJsonpsmart-vending-machine"]||[]).push([[14],{1013:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return R}));var r=t(117),n=t(112),o=t(772),c=t(0),i=t.n(c),l=t(775),s=t(273),d=t(832),u=t(473),m=t(310),p=t(317),f=t(837),b=t(472),h=t(248),g=t(505),v=t(506),y=t.n(v),k=t(306),O=t(307),j=t(847),E=t.n(j),w=t(135),S=t.n(w),x=t(113);function C(){return i.a.createElement(k.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ","SW Vault"," ",(new Date).getFullYear(),".")}var z=Object(O.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(".concat(E.a,")"),backgroundRepeat:"repeat",backgroundColor:"dark"===e.palette.type?e.palette.grey[900]:e.palette.grey[50],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function R(){var e=z(),a=i.a.useState({email:void 0,password:""}),t=Object(o.a)(a,2),v=t[0],O=t[1],j=i.a.useState({data:!1,check:!1,login:!1,change:!1}),E=Object(o.a)(j,2),w=E[0],R=E[1],I=i.a.useState({email_error:"",emailiserror:!1,password_error:"",passiserror:!1}),N=Object(o.a)(I,2),P=N[0],_=N[1],F=function(e){O(Object(n.a)({},v,Object(r.a)({},e.target.name,e.target.value)))};function B(){var e=function(){var e={};return window.location.href.replace(/[?&]+([^=&]+)=([-]*[a-zA-z0-9]*[.]*[a-zA-z0-9]*)/gi,(function(a,t,r){e[t]=r})),e}();e.session&&(w.data||R((function(e){e.data;return!0,Object(n.a)({},e,{data:!0})}))),e.login&&(w.login||R((function(e){e.login;return!0,Object(n.a)({},e,{login:!0})})))}return Object(c.useEffect)((function(){if(localStorage.email&&(void 0===v.email&&(document.getElementById("email").value=localStorage.email,O(Object(n.a)({},v,{email:localStorage.email}))),!1===w.change&&R({check:!0})),localStorage.jtwToken){var e=Object(x.b)();Object(x.a)(e.exp)&&(window.location.href="/dashboard")}}),[w.check,v,w.change]),i.a.createElement(g.a,{container:!0,component:"main",className:e.root},i.a.createElement(d.a,null),i.a.createElement(g.a,{item:!0,xs:!1,sm:4,md:7,className:e.image}),i.a.createElement(g.a,{item:!0,xs:12,sm:8,md:5,component:b.a,elevation:6,square:!0},i.a.createElement("div",{className:e.paper},i.a.createElement(l.a,{className:e.avatar},i.a.createElement(y.a,null)),i.a.createElement(k.a,{component:"h1",variant:"h5"},"Sign in"),i.a.createElement("div",{hidden:!w.data},B(),"You session is lost. Try to login again."),i.a.createElement("div",{hidden:!w.login},B(),"Your account was logged in on another device"),i.a.createElement("form",{className:e.form,noValidate:!0},i.a.createElement(u.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,error:P.emailiserror,helperText:P.email_error,onChange:F}),i.a.createElement(u.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",error:P.passiserror,helperText:P.password_error,onChange:F}),i.a.createElement("div",null,i.a.createElement("span",{className:"error",hidden:!0,align:"left",color:"red"},P.errormsg)),i.a.createElement(m.a,{control:i.a.createElement(p.a,{checked:w.check,id:"check",color:"primary",onChange:function(e,a,t){R((function(e){var t=e.check;e.change;return!0,t=a,Object(n.a)({},e,{check:t,change:!0})}))}}),label:"Remember me"}),i.a.createElement(s.a,{onClick:function(e){""===v.email&&_((function(e){e.email_error,e.emailiserror;return"Your email address cannot be empty",!0,Object(n.a)({},e,{email_error:"Your email address cannot be empty",emailiserror:!0})})),""===v.password&&_((function(e){e.password_error,e.passiserror;return"Your password cannot be empty",!0,Object(n.a)({},e,{password_error:"Your password cannot be empty",passiserror:!0})})),P.emailiserror&&""!==v.email&&_((function(e){e.email_error,e.emailiserror;return"",!1,Object(n.a)({},e,{email_error:"",emailiserror:!1})})),P.passiserror&&""!==v.password&&_((function(e){e.password_error,e.passiserror;return"",!1,Object(n.a)({},e,{password_error:"",passiserror:!1})})),""!==v.email&&""!==v.password&&S.a.post("https://vending-insights-smu.firebaseapp.com/login",v).then((function(e){"no"!==e.data?(localStorage.setItem("jtwToken",e.data.token),localStorage.setItem("auth",e.data.auth),localStorage.setItem("id",e.data.id),w.check?localStorage.setItem("email",v.email):localStorage.email&&delete localStorage.email,window.location.href="/dashboard"):_((function(e){e.password_error,e.passiserror;return"Your input information doesn't match, try again ",!0,Object(n.a)({},e,{password_error:"Your input information doesn't match, try again ",passiserror:!0})}))})).catch((function(e){console.log(e)}))},fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Sign In"),i.a.createElement(g.a,{container:!0},i.a.createElement(g.a,{item:!0,xs:!0},i.a.createElement(f.a,{href:"\\check_email",variant:"body2"},"Forgot password?")),i.a.createElement(g.a,{item:!0},i.a.createElement(f.a,{href:"\\signup",variant:"body2"},"Don't have an account? Sign Up"))),i.a.createElement(h.a,{mt:5},i.a.createElement(C,null))))))}},113:function(e,a,t){"use strict";t.d(a,"b",(function(){return o})),t.d(a,"a",(function(){return c}));var r=t(266),n=t.n(r);function o(){return n.a.decode(localStorage.jtwToken)}function c(e){return!(e<(new Date).getTime()/1e3)||(delete localStorage.jtwToken,delete localStorage.auth,!1)}},205:function(e,a,t){"use strict";var r=t(2),n=t(103),o=t(61),c=t(0),i=(t(1),t(62)),l=t(136),s=t(162),d=t(63),u=t(311),m=c.forwardRef((function(e,a){var t=e.autoFocus,d=e.checked,m=e.checkedIcon,p=e.classes,f=e.className,b=e.defaultChecked,h=e.disabled,g=e.icon,v=e.id,y=e.inputProps,k=e.inputRef,O=e.name,j=e.onBlur,E=e.onChange,w=e.onFocus,S=e.readOnly,x=e.required,C=e.tabIndex,z=e.type,R=e.value,I=Object(o.a)(e,["autoFocus","checked","checkedIcon","classes","className","defaultChecked","disabled","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"]),N=Object(l.a)({controlled:d,default:Boolean(b),name:"SwitchBase",state:"checked"}),P=Object(n.a)(N,2),_=P[0],F=P[1],B=Object(s.a)(),T=h;B&&"undefined"===typeof T&&(T=B.disabled);var M="checkbox"===z||"radio"===z;return c.createElement(u.a,Object(r.a)({component:"span",className:Object(i.a)(p.root,f,_&&p.checked,T&&p.disabled),disabled:T,tabIndex:null,role:void 0,onFocus:function(e){w&&w(e),B&&B.onFocus&&B.onFocus(e)},onBlur:function(e){j&&j(e),B&&B.onBlur&&B.onBlur(e)},ref:a},I),c.createElement("input",Object(r.a)({autoFocus:t,checked:d,defaultChecked:b,className:p.input,disabled:T,id:M&&v,name:O,onChange:function(e){var a=e.target.checked;F(a),E&&E(e,a)},readOnly:S,ref:k,required:x,tabIndex:C,type:z,value:R},y)),_?m:g)}));a.a=Object(d.a)({root:{padding:9},checked:{},disabled:{},input:{cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}},{name:"PrivateSwitchBase"})(m)},267:function(e,a){},268:function(e,a){},271:function(e,a){},272:function(e,a){},310:function(e,a,t){"use strict";var r=t(2),n=t(61),o=t(0),c=(t(1),t(62)),i=t(162),l=t(63),s=t(306),d=t(68),u=o.forwardRef((function(e,a){e.checked;var t=e.classes,l=e.className,u=e.control,m=e.disabled,p=(e.inputRef,e.label),f=e.labelPlacement,b=void 0===f?"end":f,h=(e.name,e.onChange,e.value,Object(n.a)(e,["checked","classes","className","control","disabled","inputRef","label","labelPlacement","name","onChange","value"])),g=Object(i.a)(),v=m;"undefined"===typeof v&&"undefined"!==typeof u.props.disabled&&(v=u.props.disabled),"undefined"===typeof v&&g&&(v=g.disabled);var y={disabled:v};return["checked","name","onChange","value","inputRef"].forEach((function(a){"undefined"===typeof u.props[a]&&"undefined"!==typeof e[a]&&(y[a]=e[a])})),o.createElement("label",Object(r.a)({className:Object(c.a)(t.root,l,"end"!==b&&t["labelPlacement".concat(Object(d.a)(b))],v&&t.disabled),ref:a},h),o.cloneElement(u,y),o.createElement(s.a,{component:"span",className:Object(c.a)(t.label,v&&t.disabled)},p))}));a.a=Object(l.a)((function(e){return{root:{display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,"&$disabled":{cursor:"default"}},labelPlacementStart:{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},labelPlacementTop:{flexDirection:"column-reverse",marginLeft:16},labelPlacementBottom:{flexDirection:"column",marginLeft:16},disabled:{},label:{"&$disabled":{color:e.palette.text.disabled}}}}),{name:"MuiFormControlLabel"})(u)},311:function(e,a,t){"use strict";var r=t(2),n=t(61),o=t(0),c=(t(1),t(62)),i=t(63),l=t(77),s=t(1052),d=t(68),u=o.forwardRef((function(e,a){var t=e.edge,i=void 0!==t&&t,l=e.children,u=e.classes,m=e.className,p=e.color,f=void 0===p?"default":p,b=e.disabled,h=void 0!==b&&b,g=e.disableFocusRipple,v=void 0!==g&&g,y=e.size,k=void 0===y?"medium":y,O=Object(n.a)(e,["edge","children","classes","className","color","disabled","disableFocusRipple","size"]);return o.createElement(s.a,Object(r.a)({className:Object(c.a)(u.root,m,"default"!==f&&u["color".concat(Object(d.a)(f))],h&&u.disabled,"small"===k&&u["size".concat(Object(d.a)(k))],{start:u.edgeStart,end:u.edgeEnd}[i]),centerRipple:!0,focusRipple:!v,disabled:h,ref:a},O),o.createElement("span",{className:u.label},l))}));a.a=Object(i.a)((function(e){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:e.palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{backgroundColor:Object(l.d)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{backgroundColor:"transparent",color:e.palette.action.disabled}},edgeStart:{marginLeft:-12,"$sizeSmall&":{marginLeft:-3}},edgeEnd:{marginRight:-12,"$sizeSmall&":{marginRight:-3}},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(l.d)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(l.d)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},sizeSmall:{padding:3,fontSize:e.typography.pxToRem(18)},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}}),{name:"MuiIconButton"})(u)},317:function(e,a,t){"use strict";var r=t(2),n=t(61),o=t(0),c=(t(1),t(62)),i=t(205),l=t(79),s=Object(l.a)(o.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),d=Object(l.a)(o.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),u=t(77),m=Object(l.a)(o.createElement("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox"),p=t(68),f=t(63),b=o.createElement(d,null),h=o.createElement(s,null),g=o.createElement(m,null),v=o.forwardRef((function(e,a){var t=e.checkedIcon,l=void 0===t?b:t,s=e.classes,d=e.color,u=void 0===d?"secondary":d,m=e.icon,f=void 0===m?h:m,v=e.indeterminate,y=void 0!==v&&v,k=e.indeterminateIcon,O=void 0===k?g:k,j=e.inputProps,E=e.size,w=void 0===E?"medium":E,S=Object(n.a)(e,["checkedIcon","classes","color","icon","indeterminate","indeterminateIcon","inputProps","size"]);return o.createElement(i.a,Object(r.a)({type:"checkbox",classes:{root:Object(c.a)(s.root,s["color".concat(Object(p.a)(u))],y&&s.indeterminate),checked:s.checked,disabled:s.disabled},color:u,inputProps:Object(r.a)({"data-indeterminate":y},j),icon:o.cloneElement(y?O:f,{fontSize:"small"===w?"small":"default"}),checkedIcon:o.cloneElement(y?O:l,{fontSize:"small"===w?"small":"default"}),ref:a},S))}));a.a=Object(f.a)((function(e){return{root:{color:e.palette.text.secondary},checked:{},disabled:{},indeterminate:{},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(u.d)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(u.d)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}}}}),{name:"MuiCheckbox"})(v)},506:function(e,a,t){"use strict";var r=t(65);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=r(t(0)),o=(0,r(t(81)).default)(n.default.createElement("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6zm9 14H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"}),"LockOutlined");a.default=o},65:function(e,a){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},775:function(e,a,t){"use strict";var r=t(2),n=t(61),o=t(0),c=(t(1),t(62)),i=t(63),l=t(79),s=Object(l.a)(o.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");var d=o.forwardRef((function(e,a){var t=e.alt,i=e.children,l=e.classes,d=e.className,u=e.component,m=void 0===u?"div":u,p=e.imgProps,f=e.sizes,b=e.src,h=e.srcSet,g=e.variant,v=void 0===g?"circle":g,y=Object(n.a)(e,["alt","children","classes","className","component","imgProps","sizes","src","srcSet","variant"]),k=null,O=function(e){var a=e.src,t=e.srcSet,r=o.useState(!1),n=r[0],c=r[1];return o.useEffect((function(){if(a||t){c(!1);var e=!0,r=new Image;return r.src=a,r.srcSet=t,r.onload=function(){e&&c("loaded")},r.onerror=function(){e&&c("error")},function(){e=!1}}}),[a,t]),n}({src:b,srcSet:h}),j=b||h,E=j&&"error"!==O;return k=E?o.createElement("img",Object(r.a)({alt:t,src:b,srcSet:h,sizes:f,className:l.img},p)):null!=i?i:j&&t?t[0]:o.createElement(s,{className:l.fallback}),o.createElement(m,Object(r.a)({className:Object(c.a)(l.root,l.system,l[v],d,!E&&l.colorDefault),ref:a},y),k)}));a.a=Object(i.a)((function(e){return{root:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},colorDefault:{color:e.palette.background.default,backgroundColor:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[600]},circle:{},rounded:{borderRadius:e.shape.borderRadius},square:{borderRadius:0},img:{width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4},fallback:{width:"75%",height:"75%"}}}),{name:"MuiAvatar"})(d)},81:function(e,a,t){"use strict";var r=t(65);Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(e,a){var t=o.default.memo(o.default.forwardRef((function(a,t){return o.default.createElement(c.default,(0,n.default)({ref:t},a),e)})));0;return t.muiName=c.default.muiName,t};var n=r(t(82)),o=r(t(0)),c=r(t(98))},82:function(e,a){function t(){return e.exports=t=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},t.apply(this,arguments)}e.exports=t},847:function(e,a,t){e.exports=t.p+"static/media/img2.55c64671.jpeg"},98:function(e,a,t){"use strict";t.r(a);var r=t(246);t.d(a,"default",(function(){return r.a}))}}]);
//# sourceMappingURL=14.ea29fd3a.chunk.js.map