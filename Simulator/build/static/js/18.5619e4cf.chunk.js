(this["webpackJsonpsmart-vending-machine"]=this["webpackJsonpsmart-vending-machine"]||[]).push([[18],{1045:function(e,t,a){"use strict";a.r(t);var n=a(117),l=a(9),r=a(10),c=a(12),i=a(11),s=a(0),m=a.n(s),o=a(135),u=a.n(o),d=a(473),p=a(480),h=a(316),g=a(476),f=a(475),v=a(1010),E=a(840),b=a(841),y=a(962),_=a(842),k=a(963),O=a(964),C=a(1003),j=a(1004),S=a(1005),H=a(1046),P=a(168),I=function(e){Object(c.a)(a,e);var t=Object(i.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).dateChangeHandler=function(e){var t=e.target.value,a=t.split("-");r.setState({date:t,year:a[0],month:a[1],day:a[2]}),console.log(r.state)},r.onSubmitId=function(){var e;u.a.post("https://vending-insights-smu.firebaseapp.com/vm/getallvm",{email:r.state.email}).then((function(t){null!==t.data?e=t.data:console.log("fail to get all vm datas")})).then((function(){r.setState({vm_id_array:Object.keys(e),allvm:e}),console.log(e),console.log(r.state)})).then((function(){}))},r.emailChangeHandler=function(e){r.setState(Object(n.a)({},e.target.name,e.target.value))},r.itemChangeHandler=function(e){r.setState(Object(n.a)({},e.target.name,e.target.value),(function(){r.setState({unit_price:r.state.allvm[r.state.vm_id].products[r.state.item].price},(function(){r.setState({total_price:r.state.amount*r.state.unit_price})}))}))},r.amountChangeHandler=function(e){r.setState(Object(n.a)({},e.target.name,e.target.value),(function(){r.setState({total_price:r.state.amount*r.state.unit_price,restock_total_price:r.state.amount*r.state.restock_price})}))},r.vmidChangeHandler=function(e){r.setState(Object(n.a)({},e.target.name,e.target.value),(function(){for(var t=Object.keys(r.state.allvm[e.target.value].products),a=[],n=0;n<t.length;n++)a.push({id:t[n],item:t[n],unit_price:r.state.allvm[e.target.value].products[t[n]].price});r.setState({itemArray:a})}))},r.restockPriceChangeHandler=function(e){r.setState(Object(n.a)({},e.target.name,e.target.value),(function(){r.setState({restock_total_price:r.state.amount*r.state.restock_price})})),console.log(r.state.restock_price)},r.restockTotalPriceChangeHandler=function(e){r.setState(Object(n.a)({},e.target.name,e.target.value)),console.log(r.state.restock_total_price)},r.confirmPurchase=function(){console.log(r.state.item),console.log(r.state.amount),u.a.post("https://vending-insights-smu.firebaseapp.com/vm/updatetransaction",r.state).then((function(e){"update success"===e.data?alert("purchase done!"):alert("fail to purchase!")}))},r.confirmRestock=function(){console.log(r.state.item),console.log(r.state.amount),u.a.post("https://vending-insights-smu.firebaseapp.com/vm/getstock",r.state).then((function(e){"restock success"===e.data?alert("restock success!"):alert("restock fail!")}))},r.state={item:"",amount:1,unit_price:0,vm_id:1,email:"yuc@smu.edu",total_price:0,restock_price:1,restock_total_price:0,vm_id_array:[],date:"",year:2020,month:3,day:1,allvm:"",itemArray:[{id:1,item:"Coke-testing",price:2}]},r}return Object(r.a)(a,[{key:"render",value:function(){return m.a.createElement(v.a,null,m.a.createElement(P.a,{title:"Simulator"},m.a.createElement(E.a,null,m.a.createElement(b.a,{md:12},m.a.createElement(y.a,null,m.a.createElement(_.a,null,"Email"),m.a.createElement(k.a,null,m.a.createElement(d.a,{id:"half-width-text-field",placeholder:"xxx@smu.edu",margin:"normal",fullWidth:!0,name:"email",onChange:this.emailChangeHandler}),m.a.createElement(O.a,{fullwidth:"true",variant:"contained",color:"primary",onClick:this.onSubmitId},"submit"))))),m.a.createElement(E.a,null,m.a.createElement(b.a,{md:12},m.a.createElement(y.a,null,m.a.createElement(_.a,null,"Vending Machine ID"),m.a.createElement(k.a,null,m.a.createElement(f.a,null,m.a.createElement(g.a,{id:"demo-simple-select-label"},"id"),m.a.createElement(p.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",name:"vm_id",value:this.state.vm_id,onChange:this.vmidChangeHandler},this.state.vm_id_array.map((function(e,t){return m.a.createElement(h.a,{key:e,value:e},e)})))))))),m.a.createElement(E.a,null,m.a.createElement(b.a,{md:12},m.a.createElement(y.a,null,m.a.createElement(_.a,null,"Vending Machine Item"),m.a.createElement(k.a,null,m.a.createElement(f.a,null,m.a.createElement(g.a,{id:"demo-simple-select-label"},"Item"),m.a.createElement(p.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",onChange:this.itemChangeHandler,value:this.state.item,name:"item"},this.state.itemArray.map((function(e,t){return m.a.createElement(h.a,{key:e.id,value:e.item},e.item)}))),m.a.createElement(d.a,{id:"standard-required-1",label:"unit_price",value:this.state.unit_price,InputProps:{readOnly:!0},variant:"filled"}),m.a.createElement(d.a,{id:"standard-required-2",label:"restock_price",name:"restock_price",type:"number",onChange:this.restockPriceChangeHandler})))))),m.a.createElement(E.a,null,m.a.createElement(b.a,{md:12},m.a.createElement(y.a,null,m.a.createElement(_.a,null,"Product Amount"),m.a.createElement(k.a,null,m.a.createElement(d.a,{placeholder:""+this.state.amount,margin:"normal",name:"amount",value:this.state.amount,onChange:this.amountChangeHandler,type:"number"}))))),m.a.createElement(E.a,null,m.a.createElement(b.a,{md:12},m.a.createElement(y.a,null,m.a.createElement(_.a,null,"Total price"),m.a.createElement(k.a,null,m.a.createElement(d.a,{id:"standard-required-2",label:"total_price",value:this.state.total_price,InputProps:{readOnly:!0},variant:"filled"}))))),m.a.createElement(E.a,null,m.a.createElement(b.a,{md:12},m.a.createElement(y.a,null,m.a.createElement(_.a,null,"Restock Total price"),m.a.createElement(k.a,null,m.a.createElement(d.a,{id:"standard-required-2",label:"restock_total_price",value:this.state.restock_total_price,InputProps:{readOnly:!0},variant:"filled"}))))),m.a.createElement(E.a,null,m.a.createElement(b.a,{md:12},m.a.createElement(y.a,null,m.a.createElement(_.a,null,"Date"),m.a.createElement(k.a,null,m.a.createElement(C.a,null,m.a.createElement(j.a,null,m.a.createElement(S.a,{for:"date"},"DateTime"),m.a.createElement(H.a,{type:"date",name:"date",id:"dt",value:this.state.date,placeholder:"datetime placeholder",onChange:this.dateChangeHandler}))),m.a.createElement(O.a,{fullwidth:"true",variant:"contained",color:"primary",onClick:this.confirmPurchase},"Place Order"),m.a.createElement(O.a,{fullwidth:"true",variant:"contained",color:"secondary",onClick:this.confirmRestock},"Restock")))))))}}]),a}(m.a.Component);t.default=I},154:function(e,t,a){"use strict";var n=a(117),l=a(84),r=a(16),c=a.n(r),i=a(0),s=a.n(i),m=(a(85),{h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6","display-1":"h1","display-2":"h1","display-3":"h1","display-4":"h1",p:"p",lead:"p",blockquote:"blockquote"}),o=function(e){var t,a=e.tag,r=e.className,i=e.type,o=Object(l.a)(e,["tag","className","type"]),u=c()(Object(n.a)({},i,!!i),r);return t=a||(!a&&m[i]?m[i]:"p"),s.a.createElement(t,Object.assign({},o,{className:u}))};o.defaultProps={type:"p"},t.a=o},168:function(e,t,a){"use strict";var n=a(84),l=a(0),r=a.n(l),c=(a(85),a(96)),i=a(477),s=a(478),m=a(154),o=c.a.create("page"),u=function(e){var t=e.title,a=e.breadcrumbs,l=e.tag,c=e.className,u=e.children,d=Object(n.a)(e,["title","breadcrumbs","tag","className","children"]),p=o.b("px-3",c);return r.a.createElement(l,Object.assign({className:p},d),r.a.createElement("div",{className:o.e("header")},t&&"string"===typeof t?r.a.createElement(m.a,{type:"h1",className:o.e("title")},t):t,a&&r.a.createElement(i.a,{className:o.e("breadcrumb")},r.a.createElement(s.a,null,"Home"),a.length&&a.map((function(e,t){var a=e.name,n=e.active;return r.a.createElement(s.a,{key:t,active:n},a)})))),u)};u.defaultProps={tag:"div",title:""},t.a=u},85:function(e,t,a){"use strict";var n=a(112),l=a(1),r=a.n(l);Object(n.a)({},r.a,{ID:r.a.oneOfType([r.a.string,r.a.number]).isRequired,component:r.a.oneOfType([r.a.string,r.a.func]),date:r.a.oneOfType([r.a.instanceOf(Date),r.a.string])})},96:function(e,t,a){"use strict";var n,l=a(16),r=a.n(l),c=(n="cr",{create:function(e){var t=e;return"string"===typeof n&&(t="".concat(n,"-").concat(e)),{b:function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return r()(t,a)},e:function(e){for(var a=arguments.length,n=new Array(a>1?a-1:0),l=1;l<a;l++)n[l-1]=arguments[l];return r()("".concat(t,"__").concat(e),n)},m:function(e){for(var a=arguments.length,n=new Array(a>1?a-1:0),l=1;l<a;l++)n[l-1]=arguments[l];return r()("".concat(t,"--").concat(e),n)}}}});t.a=c}}]);
//# sourceMappingURL=18.5619e4cf.chunk.js.map